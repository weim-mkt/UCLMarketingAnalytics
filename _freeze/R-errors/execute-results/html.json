{
  "hash": "dd1da6476af8acd1b52d7e6ae9280502",
  "result": {
    "markdown": "---\ntitle: \"Troubleshooting R\"\nauthor: Wei Miao\naffiliation: UCL School of Management\ndate: \"Mon, 22 Aug 2022\"\nformat:\n    html:\n      number-sections: true\n      df-print: paged\n      self-contained: true\n      page-layout: full\n      toc-depth: 2\n      code-line-numbers: false\n      code-copy: hover\n      \nknitr:\n  opts_chunk:\n    echo: true\n    warning: true\n    message: true\n    error: true\nexecute: \n  cache: true\n  freeze: true\n---\n\n\nIn this page, I summarize the common issues running R and the troubleshooting tips. If you run into any R issues, please refer to this page as the first step for any solution. \n\n\n\n## Where you can run R codes\n\nYou can run R codes in 3 places.\n\n### R Console\n\nIf the code is simple and just one line, then you can type the command in R console. This is convenient when you want to run some interactive codes that test your hypotheses or do some preliminary data analyses (e.g., check the variable names of a dataframe, or check the number of rows of a dataframe).\n\n![](images/class5_RConsole.png)\n\n\n### R Script\n\n- R Script has the extension of `.R`, and any text in this file will be treated as R codes\n\n- R Script (with `.R` extension) is different from a R Markdown file (with `.Rmd` extension) or a R Quarto file (with `.qmd` extension)\n\n- R Script is used when we do not need to generate any report and we just need to run some analyses. In this case, R Scripts are the best choice.\n\nTo create a new R Script, click the `insert new file` button, and select `R Script` option:\n\n![](images/class5_addRScript.png)\n\nAnd then, you can copy the codes in lecture slides and paste them into R Script file. \n\nSelect the codes you want to run and run them by hitting the `Run` button\n\n- Note: not the `Knit` button; `Knit` is only for generating reports from .rmd/.qmd files). \n\n![](images/class5_RScript.png)\n\n### R Markdown/Quarto\n\nIn a `.rmd/.qmd` file, R codes can only be run in R code chunks; otherwise, they will be treated as normal text.\n\n\n## Warnings: Packages not installed\n\nIf you see this banner in your RStudio in the screenshot, it means RStudio detects some packages mentioned in the R Markdown file or R script but are not yet installed on your computer. So it prompts you for installation.\n\n![](images/class5_RErrorPackageNotInstalled.png)\n\nFor instance, in this case, the error message means, `knitr` and `pacman` are found in the .Rmd file, but they are not installed, so RStudio is smart enough to prompt you to install. \n\n:::{.callout-notes}\n### Solution\nJust click install button in the banner. RStudio will install the missing components.\n:::\n\n\n## R packages not up-to-date\n\nSince the R packages are being updated every day (just like our mobile apps, there could be bugs so that the developers have to update R packages to fix those bugs), sometimes, though we may have installed some packages, they are too old to run the functions. And you may see this prompted message:\n\n![](images/class5_RErrorPackageNeedsUpdated.png)\n\nIt means, the aforementioned packages, `base64enc`, `digest`, etc. are outdated and must be updated to function. \n\n:::{.callout-notes}\n### Solution \n\nClick `Yes` and RStudio will update all the packages for you.\n\n:::\n\n\n\n## Latex not found when kniting the .rmd/.qmd file.\n\nIf this is your first time to knit the PDF document, you may see an error message as below:\n\n![](images/class5_RErrorLatexNotFound.png)\n\n\nThe error message has usually told us everything on how to troubleshoot (that's what an error message is for!).\n\nIn this screenshot, if you read along, you will find the cause of problem: \n\n>[...] LaTex failed to compile, \n\nbecause\n\n> [...] No LaTeX installation detected (LaTeX is required to create PDF output).\n\nand the **solution** is also consideratebly given in this error message:\n\n> [...] You should install a LaTeX distribution for your platform: https://www.latex-project.org/get/\n\n>  If you are not sure, you may install TinyTeX in R: tinytex::install_tinytex()\n\nSo this error message tells us the solution: \n\n:::{.callout-notes}\n### Solution\n\nRun the following command in Console\n\n`tinytex::install_tinytex()`\n\nin order to install LaTex on your laptop.\n\n:::\n\n\nIf you run the command in R Console, you will see that Latex is being installed \n\n![](images/Class5_RErrorInstallTinyTex.png)\n\nAfter this progress bar finishes, you will be able to knit the PDF document!\n\n## Error: Connection Not Found\n\nConnection Not Found error is usually caused by RStudio being unable to locate your files on your hard disk. \n\nIn the .Rmd file I give to you, the purchase data and demographics data are using the file paths on my laptop. So you should change them to yours.\n\nIf you don't know how to find the path names for a file on your computer, please refer to this [link](https://www.sony.com/electronics/support/articles/00015251) for Windows and this [link](https://macpaw.com/how-to/get-file-path-mac) for Mac. \n\n\n## More Questions\n\nPlease leave a screenshot of error message in the MSTeams channel named \"R QnA\". I will keep updating this webpage as more questions come in.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}